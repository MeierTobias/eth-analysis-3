% colors
\usepackage{color,xcolor}
\definecolor{sectionColor}{HTML}{1c59c9}
\definecolor{subSectionColor}{HTML}{568ae8}
\definecolor{subSubsectionColor}{HTML}{87a9e8}
\definecolor{titleTextColor}{RGB}{255,255,255}

% set the size of a section
\usepackage{parskip}
\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt}

% used for colored boxes
\usepackage[many]{tcolorbox}

% customize the headers
\usepackage[explicit]{titlesec}
\usepackage{titletoc}

\titleformat{\section}
{\normalfont\bfseries\fontfamily{lmss}\selectfont}
{}
{0pt}
{\begin{tcolorbox}[
      enhanced,
      boxrule=0pt,
      arc=0pt,
      outer arc=0pt,
      left=0pt,
      right=0pt,
      top=0pt,
      bottom=0pt,
      nobeforeafter,
      interior code={\fill[overlay,sectionColor] (frame.north west) rectangle (frame.south east);},
    ]\textcolor{titleTextColor}{\thesection\hspace{0.5em}#1}
  \end{tcolorbox}}[{\startcontents[section]}]
\titlespacing{\section}{0pt}{1pt}{0pt}

\titleformat{\subsection}
{\normalfont\bfseries\fontfamily{lmss}\selectfont}
{}
{0pt}
{\begin{tcolorbox}[
      enhanced,
      boxrule=0pt,
      arc=0pt,
      outer arc=0pt,
      left=0pt,
      right=0pt,
      top=0pt,
      bottom=0pt,
      nobeforeafter,
      interior code={\fill[overlay,subSectionColor] (frame.north west) rectangle (frame.south east);},
    ]\textcolor{titleTextColor}{\thesubsection\hspace{0.5em}#1}
  \end{tcolorbox}}
\titlespacing{\subsection}{0pt}{1pt}{0pt}

\titleformat{\subsubsection}
{\normalfont\bfseries\fontfamily{lmss}\selectfont}
{}
{0pt}
{\begin{tcolorbox}[
      enhanced,
      boxrule=0pt,
      arc=0pt,
      outer arc=0pt,
      left=0pt,
      right=0pt,
      top=0pt,
      bottom=0pt,
      nobeforeafter,
      interior code={\fill[overlay,subSubsectionColor] (frame.north west) rectangle (frame.south east);},
    ]\textcolor{titleTextColor}{\thesubsubsection\hspace{0.5em}#1}
  \end{tcolorbox}}
\titlespacing{\subsubsection}{0pt}{1pt}{0pt}

% Create a TOC for the current section
\newcommand{\createsectiontoc}{
  \printcontents[section]{p}{2}{}{}%
}
% Removes the page numbering from the sub- and subsub-section
\titlecontents{subsection}[0.2em]{}{\thecontentslabel\hspace{1em}}{}{}[]
\titlecontents{subsubsection}[2.4em]{}{\thecontentslabel\hspace{1em}}{}{}[]

% set the spacing above and below the equations
\newlength{\eqSkipSize}  \setlength{\eqSkipSize}{6pt}
\AtBeginDocument{%
  \setlength\abovedisplayskip{\eqSkipSize}%
  \setlength\belowdisplayskip{\eqSkipSize}%
  \setlength\abovedisplayshortskip{\eqSkipSize-\baselineskip}%
  \setlength\belowdisplayshortskip{\eqSkipSize}}